default:
    context:
        parameters:
            rest_url: 'http://local.efl5.dev'
            # rest_driver possible options [GuzzleDriver|BuzzDriver]
            rest_driver: BuzzDriver
    paths:
        features: vendor/ezsystems/

    extensions:
        Behat\MinkExtension\Extension:
            base_url: 'http://local.efl5.dev'
            goutte: ~
            sahi: ~
            selenium2:
                wd_host: 127.0.0.1:4444/wd/hub
                capabilities: { "browser": "firefox", "version": "17"}
            # This should be updated to selenium2 as soon as travis is running with selenium
            javascript_session: sahi
            #javascript_session: selenium2
            browser_name: firefox

        Behat\Symfony2Extension\Extension:
            kernel:
                bootstrap: ezpublish/autoload.php
                path: ezpublish/EzPublishKernel.php
                class: EzPublishKernel
                env: behat
                debug: true
            mink_driver: true

demoContent:
    context:
        class: EzSystems\DemoBundle\Features\Context\ContentContext
    paths:
        features: vendor/ezsystems/demobundle/EzSystems/DemoBundle/Features/Content

restApi:
    context:
        class: eZ\Bundle\EzPublishRestBundle\Features\Context\RestContext
    paths:
        features: vendor/ezsystems/ezpublish-kernel/eZ/Bundle/EzPublishRestBundle/Features

legacyAdmin:
    context:
        class: eZ\Bundle\EzPublishLegacyBundle\Features\Context\Admin2Context
    paths:
        features: vendor/ezsystems/ezpublish-kernel/eZ/Bundle/EzPublishLegacyBundle/Features/Admin2
    extensions:
        Behat\MinkExtension\Extension:
            base_url: 'http://localhost/behat_site_admin'

# Setup Wizard Installations

setupWizardDemoContent:
    context:
        class: eZ\Bundle\EzPublishLegacyBundle\Features\Context\SetupWizardContext
    paths:
        features: vendor/ezsystems/ezpublish-kernel/eZ/Bundle/EzPublishLegacyBundle/Features/SetupWizard
    filters:
        tags: '@demo && ~@clean && ~@skipByDefault'

setupWizardDemoClean:
    context:
        class: eZ\Bundle\EzPublishLegacyBundle\Features\Context\SetupWizardContext
    paths:
        features: vendor/ezsystems/ezpublish-kernel/eZ/Bundle/EzPublishLegacyBundle/Features/SetupWizard
    filters:
        tags: '@demo && ~@content && ~@skipByDefault'

nonUniqueDatabaseSetupWizardDemoContent:
    context:
        class: eZ\Bundle\EzPublishLegacyBundle\Features\Context\SetupWizardContext
    paths:
        features: vendor/ezsystems/ezpublish-kernel/eZ/Bundle/EzPublishLegacyBundle/Features/SetupWizard
    filters:
        tags: '@demo && ~@clean && ~@uniqueDatabaseSystem'

nonUniqueDatabaseSetupWizardDemoClean:
    context:
        class: eZ\Bundle\EzPublishLegacyBundle\Features\Context\SetupWizardContext
    paths:
        features: vendor/ezsystems/ezpublish-kernel/eZ/Bundle/EzPublishLegacyBundle/Features/SetupWizard
    filters:
        tags: '@demo && ~@content && ~@uniqueDatabaseSystem'
